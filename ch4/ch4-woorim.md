# ğŸ“Œ CH 4-4ë³€ìˆ˜ ì„ ì–¸ì˜ ì‹¤í–‰ ì‹œì ê³¼ í˜¸ì´ìŠ¤íŒ…

```
console.log(score); // undefined

var score; // ë³€ìˆ˜ ì„ ì–¸ë¬¸
```

ì˜ˆì‹œì½”ë“œ1ì„ ë³´ë©´ ë³€ìˆ˜ ì„ ì–¸ë¬¸ì¸ `var score;`ë³´ë‹¤ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ì½”ë“œì¸ `console.log(score);`ê°€ ì•ì— ìˆë‹¤.

ë§Œì•½ ì½”ë“œê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ëŸ°íƒ€ì„ì— ë³€ìˆ˜ ì„ ì–¸ì´ ì‹¤í–‰ëœë‹¤ë©´ `console.log(score);`ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì—ëŠ” ì•„ì§ ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê¸° ì´ì „ì´ë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ `ì°¸ì¡° ì—ëŸ¬ Reference Error`ê°€ ë°œìƒí•´ì•¼ í•œë‹¤.

í•˜ì§€ë§Œ `undefined`ê°€ ì¶œë ¥ëœë‹¤.

## ì™œì¼ê¹Œ?

#### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ë³€ìˆ˜ ì„ ì–¸ë¬¸ì„ ë¨¼ì € ì‹¤í–‰í•˜ì—¬, undefinedë¼ëŠ” ê°’ì´ scoreë¼ëŠ” ë³€ìˆ˜ì— ì•”ë¬µì ìœ¼ë¡œ í• ë‹¹ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.

- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì†ŒìŠ¤ì½”ë“œë¥¼ í•œ ì¤„ì”© ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ê¸°ì— ì•ì„œ ë¨¼ì € ì†ŒìŠ¤ì½”ë“œì˜ í‰ê°€ ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì¤€ë¹„ë¥¼ í•œë‹¤.
- ì´ë•Œ ì†ŒìŠ¤ì½”ë“œ ì‹¤í–‰ì„ ìœ„í•œ ì¤€ë¹„ ë‹¨ê³„ì¸ ì†ŒìŠ¤ì½”ë“œì˜ í‰ê°€ ê³¼ì •ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ **ë³€ìˆ˜ ì„ ì–¸ì„ í¬í•¨í•œ ëª¨ë“  ì„ ì–¸ë¬¸(ë³€ìˆ˜ ì„ ì–¸ë¬¸, í•¨ìˆ˜ ì„ ì–¸ë¬¸ ë“±)ì„ ì†ŒìŠ¤ì½”ë“œì—ì„œ ì°¾ì•„ë‚´ ë¨¼ì € ì‹¤í–‰**í•œë‹¤.
- ì†ŒìŠ¤ì½”ë“œì˜ í‰ê°€ ê³¼ì •ì´ ëë‚˜ë©´ ë¹„ë¡œì†Œ ë³€ìˆ˜ ì„ ì–¸ì„ í¬í•¨í•œ ëª¨ë“  ì„ ì–¸ë¬¸ì„ ì œì™¸í•˜ê³  ì†ŒìŠ¤ì½”ë“œë¥¼ í•œ ì¤„ì”© ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤.

#### ì´ì²˜ëŸ¼ ë³€ìˆ˜ ì„ ì–¸ë¬¸ì´ ì½”ë“œì˜ ì„ ë‘ë¡œ ëŒì–´ ì˜¬ë ¤ì§„ ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ê³ ìœ ì˜ íŠ¹ì§•ì„ 'ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ…' ì´ë¼ê³  í•œë‹¤.

# ğŸ“Œ ë³€ìˆ˜ í˜¸ì´ìŠ¤íŒ…(variable hoisting)

---

ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” í˜¸ì´ìŠ¤íŒ…ë˜ë¯€ë¡œ ì•„ì§ ì„ ì–¸ì— ë„ë‹¬í•˜ì§€ ì•Šì•˜ë”ë¼ë„ í•´ë‹¹ ë²”ìœ„ì˜ ì–´ëŠ ê³³ì—ì„œë‚˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

`var`ë³€ìˆ˜ ì„ ì–¸ì€ í•´ë‹¹ í•¨ìˆ˜ ë˜ëŠ” ì „ì—­ ë²”ìœ„ì˜ ë§¨ ìœ„ë¡œ â€œí˜¸ì´ìŠ¤íŒ…"ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê¸° ì „ì— ë³€ìˆ˜ì— ì ‘ê·¼í•˜ë©´ ì´ˆê¸°í™”(initialization)ê°€ ì•„ë‹ˆë¼ **ì„ ì–¸(declaration)ë§Œ ëŒì–´ì˜¬ë ¤ì§€ë¯€ë¡œ** ê°’ì€ `undefined`ê°€ ëœë‹¤.

### ì˜ˆì‹œì½”ë“œ1

```jsx
console.log(x === undefined); // true
var x = 3;

(function () {
  console.log(x); // undefined
  var x = "local value";
})();
```

ìœ„ì˜ ì˜ˆì‹œ ì½”ë“œëŠ” ì•„ë˜ì™€ ë™ì¼í•˜ê²Œ í•´ì„ëœë‹¤.

### ì˜ˆì‹œì½”ë“œ2

```jsx
var x;
console.log(x === undefined); // true
x = 3;

(function () {
  var x;
  console.log(x); // undefined
  x = "local value";
})();
```

í˜¸ì´ìŠ¤íŒ… ë•Œë¬¸ì— í•¨ìˆ˜ì˜ ëª¨ë“  `var`ë¬¸ì€ ê°€ëŠ¥í•œ í•œ í•¨ìˆ˜ ë§¨ ìœ„ì— ê°€ê¹ê²Œ ë°°ì¹˜í•´ì•¼ í•œë‹¤.

`let`ê³¼ `const`ëŠ” ë³€ìˆ˜ ì„ ì–¸ ì „ì— ë¸”ë¡ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ë©´ ë¸”ë¡ì´ ì‹œì‘ë  ë•Œë¶€í„° ì„ ì–¸ì´ ì²˜ë¦¬ë  ë•Œê¹Œì§€ ë³€ìˆ˜ê°€ **\*â€Temporal dead zone (TDZ)"**ì— ìˆê¸° ë•Œë¬¸ì— í•­ìƒ `ReferenceError`ê°€ ë°œìƒí•œë‹¤.

### ì˜ˆì‹œì½”ë“œ3

```jsx
console.log(x); // ReferenceError
const x = 3;

console.log(y); // ReferenceError
let y = 3;
```

ì„ ì–¸ë§Œ í˜¸ì´ìŠ¤íŒ…ë˜ê³  ê°’ì€ í˜¸ì´ìŠ¤íŒ…ë˜ì§€ ì•ŠëŠ” `var` ì„ ì–¸ê³¼ ë‹¬ë¦¬, í•¨ìˆ˜ ì„ ì–¸(function declarations)ì€ ì™„ì „íˆ í˜¸ì´ìŠ¤íŒ…ë˜ë¯€ë¡œ í•´ë‹¹ ë²”ìœ„ì˜ ì–´ëŠ ê³³ì—ì„œë‚˜ í•¨ìˆ˜ë¥¼ ì•ˆì „í•˜ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

# ğŸ“Œ **Temporal dead zone (TDZ)**

---

`let`, `const`ë˜ëŠ” `class`ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ë¸”ë¡ì˜ ì‹œì‘ë¶€í„° ì½”ë“œ ì‹¤í–‰ì´ ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê³  ì´ˆê¸°í™”ëœ ìœ„ì¹˜ì— ë„ë‹¬í•  ë•Œê¹Œì§€ â€œTemporal dead zone"(TDZ)ì— ìˆë‹¤ê³  í•œë‹¤.

TDZ ë‚´ì— ìˆëŠ” ë™ì•ˆ ë³€ìˆ˜ëŠ” ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ë³€ìˆ˜ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ê³  ì‹œë„í•˜ë©´ `ReferenceError`ê°€ ë°œìƒí•œë‹¤.

ë³€ìˆ˜ëŠ” ì‹¤í–‰(execution)ì´ ì½”ë“œì—ì„œ ë³€ìˆ˜ê°€ ì„ ì–¸ëœ ìœ„ì¹˜ì— ë„ë‹¬í•  ë•Œ, ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤. ë³€ìˆ˜ ì„ ì–¸ ì‹œ ì´ˆê¸°ê°’ì„ ì§€ì •í•˜ì§€ ì•Šì€ ê²½ìš° `undefined`ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤.

ì´ëŠ” ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê¸° ì „ì— ì ‘ê·¼(access)í•˜ë©´ `undefined` ë¥¼ ë°˜í™˜í•˜ëŠ” `var` ë³€ìˆ˜ì™€ ë‹¤ë¦…ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì½”ë“œì—ì„œ `let`ê³¼ `var`ê°€ ì„ ì–¸ëœ ìœ„ì¹˜ë³´ë‹¤ ë¨¼ì € ì ‘ê·¼í–ˆì„ ë•Œ ë‹¬ë¼ì§€ëŠ” ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤.

### ì˜ˆì‹œì½”ë“œ1

```jsx
{
  // TDZ starts at beginning of scope
  console.log(bar); // "undefined"
  console.log(foo); // ReferenceError: Cannot access 'foo' before initialization
  var bar = 1;
  let foo = 2; // End of TDZ (for foo)
}
```

#### "ì‹œê°„ì (temporal)"ì´ë¼ëŠ” ìš©ì–´ê°€ ì‚¬ìš©ë˜ëŠ” ì´ìœ ëŠ” ì˜ì—­ì´ ì½”ë“œê°€ ì‘ì„±ëœ **ìˆœì„œ(ìœ„ì¹˜)ê°€ ì•„ë‹ˆë¼ ì‹¤í–‰ ìˆœì„œ(ì‹œê°„)**ì— ë”°ë¼ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì´ë‹¤.

### ì˜ˆì‹œì½”ë“œ2

ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì˜ ì½”ë“œëŠ” `let`ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ê°€ ë³€ìˆ˜ê°€ ì„ ì–¸ë˜ê¸° ì „ì— ë‚˜íƒ€ë‚˜ì§€ë§Œ, í•¨ìˆ˜ê°€ TDZ ì™¸ë¶€ì—ì„œ í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— ì‘ë™í•œë‹¤.

```jsx
{
  // TDZ starts at beginning of scope
  const func = () => console.log(letVar); // OK

  // Within the TDZ letVar access throws `ReferenceError`

  let letVar = 3; // End of TDZ (for letVar)
  func(); // Called outside TDZ!
}
```

### ì˜ˆì‹œì½”ë“œ3

ì•„ë˜ì²˜ëŸ¼ í•´ë‹¹ TDZì˜ let ë³€ìˆ˜ì— typeof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ReferenceErrorê°€ ë°œìƒí•œë‹¤:

```jsx
typeof i; // ReferenceError: Cannot access 'i' before initialization
let i = 10;
```

### ì˜ˆì‹œì½”ë“œ4

ì´ëŠ” ì„ ì–¸ë˜ì§€ ì•Šì€ ë³€ìˆ˜ ë° ì •ì˜ë˜ì§€ ì•Šì€ ê°’ì„ ë³´ìœ í•˜ëŠ” ë³€ìˆ˜ì— typeofë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥´ë‹¤:

```jsx
console.log(typeof undeclaredVariable); // "undefined"
```

## ìë£Œ ì¶œì²˜

---

- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Grammar_and_types#variable_hoisting
- ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë”¥ ë‹¤ì´ë¸Œ(ì´ì›…ëª¨ ì €)
